(this.webpackJsonpteamui=this.webpackJsonpteamui||[]).push([[0],{19:function(e,t,n){},41:function(e,t,n){e.exports=n(53)},51:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(27),o=n.n(s),c=n(6),l=n(30),i=n(22),u=n(38),p=n(40),d=n(9),m={addUser:{type:"ADD_USER"},signIn:{type:"SIGNIN_USER"},signOut:{type:"SIGN_OUT"},logUser:{type:"LOG_USER"},logError:{type:"LOG_ERROR"},postArticle:{type:"POST_ARTICLE"},postGIF:{type:"POST_GIF"},getFeed:{type:"GET_FEED"},deletePost:{type:"DELETE_POST"},editPost:{type:"EDIT_POST"},updateArticle:{type:"UPDATE_ARTICLE"},newUserSuccess:{type:"NEWUSER_SUCCESS"},newUserFailure:{type:"NEWUSER_FAILURE"},signInSuccess:{type:"SIGNIN_SUCCESS"},signInFailure:{type:"SIGNIN_FAILURE"},newArticleSuccess:{type:"NEW_ARTICLE_SUCCESS"},newArticleFailure:{type:"NEW_ARTICLE_FAILURE"},newGIFSuccess:{type:"NEW_GIF_SUCCESS"},newGIFFailure:{type:"NEW_GIF_FAILURE"},feedSuccess:{type:"FEED_SUCCESS"},feedFailure:{type:"FEED_FAILURE"},deletePostSuccess:{type:"DELETE_SUCCESS"},deletePostFailure:{type:"DELETE_FAILURE"}};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={name:"Teamwork!",errorMessage:"",loading:!1,user:JSON.parse(sessionStorage.getItem("TeamworkDB"))?JSON.parse(sessionStorage.getItem("TeamworkDB")).user:"",signedIn:!!JSON.parse(sessionStorage.getItem("TeamworkDB"))&&JSON.parse(sessionStorage.getItem("TeamworkDB")).signedIn,isAdmin:!!JSON.parse(sessionStorage.getItem("TeamworkDB"))&&JSON.parse(sessionStorage.getItem("TeamworkDB")).isAdmin,articlePosted:!1,gifPosted:!1,tokenDetails:JSON.parse(sessionStorage.getItem("TeamworkDB")).tokenDetails||"",feed:{data:[]}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.newUserSuccess.type:console.log("Getting NEW_USER_DATA from API");var n,a=t.newUserData;return console.log(a),n="error"===a.status?Object.assign({},e,h({},e,{newUser:!1,errorMessage:a.error})):Object.assign({},e,h({},e,{newUser:!0})),localStorage.setItem("TeamworkDB",JSON.stringify(n)),n;case m.newUserFailure.type:var r=t.newUserError;console.log("Error response from API",r);var s=Object.assign({},e,{});return s;case m.signInSuccess.type:console.log("Sign In Response");var o=t.signInData,c=o.data,l=c.isAdmin,i=c.token;null===l&&(o.data.isAdmin=!1),console.log(o);var u=Object.assign({},e,h({},e,{signedIn:!0,tokenDetails:i,isAdmin:o.data.isAdmin}));return sessionStorage.setItem("TeamworkDB",JSON.stringify(u)),u;case m.signInFailure.type:console.log("Error response from API",t);var p=Object.assign({},e,h({},e,{signedIn:!1,tokenDetails:""}));return localStorage.setItem("TeamworkDB",JSON.stringify(p)),p;case m.signOut.type:console.log("User signed out",t);var d=Object.assign({},e,h({},e,{signedIn:!1,user:"",isAdmin:!1,tokenDetails:""}));return localStorage.setItem("TeamworkDB",JSON.stringify(d)),d;case m.logUser.type:var g=t.email;console.log("user email: ",g);var f=Object.assign({},e,h({},e,{user:g.slice(0,g.indexOf("@"))}));return sessionStorage.setItem("TeamworkDB",JSON.stringify(f)),f;case m.logError.type:var b=t.error;console.log("error-message: ",b);var O=Object.assign({},e,h({},e,{errorMessage:b}));return localStorage.setItem("TeamworkDB",JSON.stringify(O)),O;case m.newArticleSuccess.type:console.log("Post Article Response");var v,y=t.newArticleData;return console.log(y),v="error"===y.status?Object.assign({},e,h({},e,{articlePosted:!1,errorMessage:y.error})):Object.assign({},e,h({},e,{articlePosted:!0})),console.log("new article state",v),localStorage.setItem("TeamworkDB",JSON.stringify(v)),v;case m.newArticleFailure.type:var S=t.articleError;console.log("Error response from API",t);var j=Object.assign({},e,h({},e,{errorMessage:S}));return localStorage.setItem("TeamworkDB",JSON.stringify(j)),j;case m.newGIFSuccess.type:console.log("Post GIF Response");var C,k=t.newGIFData;return console.log(k),C="error"===k.status?Object.assign({},e,h({},e,{gifPosted:!1,errorMessage:k.error})):Object.assign({},e,h({},e,{gifPosted:!0})),console.log("new gif state",C),localStorage.setItem("TeamworkDB",JSON.stringify(C)),C;case m.newGIFFailure.type:var I=t.gifError;console.log("Error response from API",t);var N=Object.assign({},e,h({},e,{errorMessage:I}));return localStorage.setItem("TeamworkDB",JSON.stringify(N)),N;case m.feedSuccess.type:console.log("Get Feed Response");var w,D=t.feedData;return w="error"===D.status?Object.assign({},e,h({},e,{errorMessage:D.error})):Object.assign({},e,h({},e,{feed:D})),console.log("new feed state",w),localStorage.setItem("TeamworkDB",JSON.stringify(w)),w;case m.feedFailure.type:var R=t.feedError;console.log("Error response from API",t);var x=Object.assign({},e,h({},e,{errorMessage:R}));return localStorage.setItem("TeamworkDB",JSON.stringify(x)),x;case m.deletePostSuccess.type:console.log("Get DELETE POST Response");var T,A=t.deletePostData;return console.log(A),T="error"===A.status?Object.assign({},e,h({},e,{errorMessage:A.error})):Object.assign({},e,h({},e,{postDeleted:!0})),console.log("delete post state",!0),localStorage.setItem("TeamworkDB",JSON.stringify(T)),T;case m.deletePostFailure.type:var P=t.deletePostError;console.log("Error response from API",t);var _=Object.assign({},e,h({},e,{errorMessage:P}));return localStorage.setItem("TeamworkDB",JSON.stringify(_)),_;default:return localStorage.setItem("TeamworkDB",JSON.stringify(e)),e}},b=n(4),O=n.n(b),v=n(5),y=n(24),S="http://localhost:8000/api/v1",j="".concat(S,"/auth/create-user"),C="".concat(S,"/auth/signin"),k="".concat(S,"/articles"),I="".concat(S,"/gifs"),N="".concat(S,"/feed"),w=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,e.next=5,fetch(j,a);case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(2),console.log("error response",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,fetch(C,n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(1),console.log("error response",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,e.next=5,fetch(k,a);case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,console.log("json response",s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(2),console.log("error response",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),a={method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,e.next=5,fetch(I,a);case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,console.log("json response",s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(2),console.log("error response",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(y.a)(O.a.mark((function e(){var t,n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}},e.prev=2,e.next=5,fetch(N,n);case 5:return a=e.sent,e.next=8,a.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(2),console.log("error response",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),a={method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=2,e.next=5,fetch("".concat(k,"/").concat(t),a);case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,console.log("json response",s,t),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(2),console.log("error response",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(y.a)(O.a.mark((function e(t){var n,a,r,s,o,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(JSON.parse(localStorage.getItem("TeamworkDB")).tokenDetails),a=t.title,r=t.article,s={method:"PATCH",body:JSON.stringify({title:a,article:r}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},e.prev=3,e.next=6,fetch("".concat(k,"/").concat(t.id),s);case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,console.log("json response",c,t.id),e.abrupt("return",c);case 14:e.prev=14,e.t0=e.catch(3),console.log("error response",e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),_=O.a.mark(W),U=O.a.mark(H),L=O.a.mark(z),F=O.a.mark(Y),G=O.a.mark(K),B=O.a.mark($),J=O.a.mark(q),M=O.a.mark(Q);function W(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"ADD_USER":t,n=e.newUser,r.prev=1,r.next=4,Object(v.a)(w,n);case 4:return a=r.sent,r.next=7,Object(v.b)({type:"NEWUSER_SUCCESS",newUserData:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)({type:"NEWUSER_FAILURE",newUserError:r.t0.message});case 13:case"end":return r.stop()}}),_,null,[[1,9]])}function H(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"SIGNIN_USER":t,n=e.user,r.prev=1,r.next=4,Object(v.a)(D,n);case 4:return a=r.sent,r.next=7,Object(v.b)({type:"SIGNIN_SUCCESS",signInData:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)({type:"SIGNIN_FAILURE",signInError:r.t0.message});case 13:case"end":return r.stop()}}),U,null,[[1,9]])}function z(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"POST_ARTICLE":t,n=e.newArticle,r.prev=1,r.next=4,Object(v.a)(R,n);case 4:return a=r.sent,r.next=7,Object(v.b)({type:"NEW_ARTICLE_SUCCESS",newArticleData:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)({type:"NEW_ARTICLE_FAILURE",articleError:r.t0.message});case 13:case"end":return r.stop()}}),L,null,[[1,9]])}function Y(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"POST_GIF":t,n=e.gifpost,r.prev=1,r.next=4,Object(v.a)(x,n);case 4:return a=r.sent,r.next=7,Object(v.b)({type:"NEW_GIF_SUCCESS",newGIFData:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(v.b)({type:"NEW_GIF_FAILURE",gifError:r.t0.message});case 13:case"end":return r.stop()}}),F,null,[[1,9]])}function K(e){var t,n;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.type,void 0===t?"GET_FEED":t,a.prev=1,a.next=4,Object(v.a)(T);case 4:return n=a.sent,a.next=7,Object(v.b)({type:"FEED_SUCCESS",feedData:n});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(v.b)({type:"FEED_FAILURE",feedError:a.t0.message});case 13:case"end":return a.stop()}}),G,null,[[1,9]])}function $(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"DELETE_POST":t,n=e.postId,r.prev=1,console.log(n),r.next=5,Object(v.a)(A,n);case 5:if(!r.sent){r.next=12;break}return r.next=9,Object(v.a)(T);case 9:return a=r.sent,r.next=12,Object(v.b)({type:"FEED_SUCCESS",feedData:a});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r.catch(1),r.next=18,Object(v.b)({type:"DELETE_FAILURE",deletePostError:r.t0.message});case 18:case"end":return r.stop()}}),B,null,[[1,14]])}function q(e){var t,n,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.type,void 0===t?"UPDATE_ARTICLE":t,n=e.articleToUpdate,r.prev=1,r.next=4,Object(v.a)(P,n);case 4:if(!r.sent){r.next=11;break}return r.next=8,Object(v.a)(T);case 8:return a=r.sent,r.next=11,Object(v.b)({type:"FEED_SUCCESS",feedData:a});case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(1),r.next=17,Object(v.b)({type:"UPDATE_FAILURE",updatePostError:r.t0.message});case 17:case"end":return r.stop()}}),J,null,[[1,13]])}function Q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)("ADD_USER",W);case 2:return e.next=4,Object(v.c)("SIGNIN_USER",H);case 4:return e.next=6,Object(v.c)("POST_ARTICLE",z);case 6:return e.next=8,Object(v.c)("POST_GIF",Y);case 8:return e.next=10,Object(v.c)("GET_FEED",K);case 10:return e.next=12,Object(v.c)("DELETE_POST",$);case 12:return e.next=14,Object(v.c)("UPDATE_ARTICLE",q);case 14:console.log("Redux Saga is on!");case 15:case"end":return e.stop()}}),M)}var V=Q,X=Object(p.a)(),Z=Object(i.createStore)(f,Object(u.composeWithDevTools)(Object(i.applyMiddleware)(X)));X.run(V);var ee=Z,te=(n(51),n(23)),ne=n(10),ae=n(11),re=n(13),se=n(12),oe=n(14),ce=(n(19),function(e){return r.a.createElement("span",{className:"links",onClick:e.onClick}," Sign Out ")}),le=function(e){function t(){return Object(ne.a)(this,t),Object(re.a)(this,Object(se.a)(t).apply(this,arguments))}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"render",value:function(){var e=this.props,t=e.signedIn,n=e.signOut,a=e.isAdmin,s=e.user;return"teamaccess"===s&&(s="Admin"),r.a.createElement("div",{className:""},t?r.a.createElement("div",{className:"nav"},a?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/createuser",className:"links"},"Create New Account")):r.a.createElement("div",null),r.a.createElement(c.b,{to:"/feed",className:"links"},"Feed"),r.a.createElement(c.b,{to:"/createarticle",className:"links"},"Create Article"),r.a.createElement(c.b,{to:"/postgif",className:"links"},"Post GIF Images"),r.a.createElement(c.b,{to:"/profile",className:"links"},"Profile"),r.a.createElement(ce,{onClick:n})):r.a.createElement("div",{className:"nav"},r.a.createElement(c.b,{to:"/signin",className:"links"},"Sign In")),r.a.createElement("h3",null,"Welcome to Teamwork",s?", ".concat(s):", Guest"),r.a.createElement("h5",null,"... where teams actually WORK!"),r.a.createElement("img",{src:"https://res.cloudinary.com/thevetdoctor/image/upload/v1574600900/teamwork/Penguins.jpg",alt:"Team Bond"}))}}]),t}(a.Component),ie=n(8),ue=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state={firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""},n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;if(["firstName","lastName","email","password","gender","jobRole","department","address"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),"undefined"!==n&&void 0!==n){if(""===a||""===a.trim())return t.classList.add("empty"),void console.log("".concat(n," is not supplied"));"age"===n&&isNaN(a)&&(t.classList.add("empty"),console.log("".concat(n," should be a number!"))),this.setState((function(e){return Object(d.a)({},n,a)}))}else console.log("name is undefined","target =>",t.parentNode,"val =>",a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.signedIn,s=t.signOut,o=t.onClick;return"teamaccess"===n&&(n="Admin"),a?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},r.a.createElement(c.b,{to:"/",className:"links"},"Home"),r.a.createElement(ce,{onClick:s})),r.a.createElement("h3",null,"New User Account"),"Please fill in user details",r.a.createElement("form",{className:"form-selector",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"firstName",placeholder:"Enter Firstname",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"lastName",placeholder:"Enter Lastname",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"email",placeholder:"Put in Email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password1",placeholder:"Re-enter Password",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"gender",placeholder:"Enter Gender",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"jobRole",placeholder:"What's the Job Role",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"department",placeholder:"Which Department",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"address",placeholder:"Enter Address",onChange:this.handleChange}),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"create-account",value:"Create account",onClick:function(){return o(e.state)}}))):(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"}))}}]),t}(a.Component),pe=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state={email:"",password:""},n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;["email","password"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),"undefined"!==n&&void 0!==n&&(""!==a&&""!==a.trim()?this.setState((function(e){return Object(d.a)({},n,a)})):t.classList.add("empty"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.signedIn,a=t.errorMessage,s=t.onClick;return n?(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"})):r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},r.a.createElement(c.b,{to:"/",className:"links"},"Home")),r.a.createElement("h3",null,"Sign In"),r.a.createElement("div",null,a?r.a.createElement("span",{className:"error"},a," "):r.a.createElement("span",null)),r.a.createElement("form",{className:"form-selector",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"email",placeholder:"Put in Email",onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter Password",onChange:this.handleChange}),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"sign-in",value:"Sign In",onClick:function(){return s(e.state)}})))}}]),t}(a.Component);var de=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Oop! You missed your way"),r.a.createElement(c.b,{to:"/"},"Back to Teamwork"))},me=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state={formInput:{firstName:"",lastName:"",email:"",password:"",gender:"",jobRole:"",department:"",address:""},editable:!1},n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ie.a)(n)),n.onEdit=n.onEdit.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"onEdit",value:function(e){var t=this;e.preventDefault(),console.log("editable",this.state.editable),this.setState((function(e){return{editable:!t.state.editable}}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=e.target.children[9].classList;console.log(t.toggle("inactive"))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;if(["firstName","lastName","email","password","gender","jobRole","department","address"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),"undefined"!==n&&void 0!==n){if(""===a||""===a.trim())return t.classList.add("empty"),void console.log("".concat(n," is not supplied"));"age"===n&&isNaN(a)&&(t.classList.add("empty"),console.log("".concat(n," should be a number!"))),this.setState((function(e){return Object(d.a)({},n,a)}))}else console.log("name is undefined","target =>",t.parentNode,"val =>",a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.signedIn,a=t.signOut,s=t.user,o=t.onClick;return n?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},r.a.createElement(c.b,{to:"/",className:"links"},"Home"),r.a.createElement(ce,{onClick:a})),r.a.createElement("h3",null,"Welcome to your page, ",s),this.state.editable?r.a.createElement("form",{className:"form-selector"},r.a.createElement("input",{type:"text",name:"firstName",placeholder:s,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"lastName",placeholder:s,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"jobRole",placeholder:"current role",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"department",placeholder:"current department",onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"address",placeholder:"current address",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("input",{style:{backgroundColor:"red"},type:"submit",name:"cancel",value:"Cancel",onClick:this.onEdit}),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"update",value:"Update",onClick:function(){return o(e.state.formInput)}})):r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"firstName",placeholder:s,onChange:this.handleChange,readOnly:!0}),r.a.createElement("input",{type:"text",name:"lastName",placeholder:s,onChange:this.handleChange,readOnly:!0}),r.a.createElement("input",{type:"text",name:"jobRole",placeholder:"current role",onChange:this.handleChange,readOnly:!0}),r.a.createElement("input",{type:"text",name:"department",placeholder:"current department",onChange:this.handleChange,readOnly:!0}),r.a.createElement("input",{type:"text",name:"address",placeholder:"current address",onChange:this.handleChange,readOnly:!0}),r.a.createElement("br",null),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"edit",value:"Edit Profile",onClick:this.onEdit}))):(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"}))}}]),t}(a.Component),ge=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state={title:"",article:""},n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;if(["title","article"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),"undefined"!==n&&void 0!==n)return""===a||""===a.trim()?(t.classList.add("empty"),void console.log("".concat(n," is not supplied"))):void this.setState((function(e){return Object(d.a)({},n,a)}));console.log("name is undefined","target =>",t.parentNode,"val =>",a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.articlePosted,a=t.errorMessage,s=t.signedIn,o=t.signOut,l=t.onClick;return s?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},this.props.signedIn?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/",className:"links"},"Home"),r.a.createElement(c.b,{to:"/profile",className:"links"},"Profile"),r.a.createElement(ce,{onClick:o})):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/signin",className:"links"},"Sign In"))),r.a.createElement("div",null,a?r.a.createElement("span",{className:"error"},a," "):r.a.createElement("span",null)),n?r.a.createElement("div",null,r.a.createElement("h3",null,"Article posted, write another article? ")):r.a.createElement("div",null,r.a.createElement("h3",null,"Write & Share")),r.a.createElement("form",{className:"form-selector",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"Article Title",onChange:this.handleChange}),r.a.createElement("textarea",{type:"text",name:"article",placeholder:"Your Article",onChange:this.handleChange}),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"sign-in",value:"Post Article",onClick:function(){return l(e.state)}}))):(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"}))}}]),t}(a.Component),he=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state={title:"",imageUrl:"C://Users//ACER//Pictures//teamwork//koala.jpg"},n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;if(["email","password"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),"undefined"!==n&&void 0!==n)return""===a||""===a.trim()?(t.classList.add("empty"),void console.log("".concat(n," is not supplied"))):void this.setState((function(e){return Object(d.a)({},n,a)}));console.log("name is undefined","target =>",t.parentNode,"val =>",a)}},{key:"render",value:function(){var e=this,t=this.props,n=t.gifPosted,a=t.errorMessage,s=t.signedIn,o=t.signOut,l=t.onClick;return s?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},s?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/",className:"links"},"Home"),r.a.createElement(c.b,{to:"/profile",className:"links"},"Profile"),r.a.createElement(ce,{onClick:o})):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/signin",className:"links"},"Sign In"))),r.a.createElement("div",null,a?r.a.createElement("span",{className:"error"},"string"!==typeof a?a.message:a," "):r.a.createElement("span",null)),n?r.a.createElement("div",null,r.a.createElement("h3",null,"Image uploaded, post another image? ")):r.a.createElement("div",null,r.a.createElement("h3",null,"Post GIF images to your team!")),r.a.createElement("form",{className:"form-selector",onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"title",placeholder:"GIF Title",onChange:this.handleChange}),r.a.createElement("input",{type:"file",name:"imageUrl",placeholder:"Upload GIF",onChange:this.handleChange}),r.a.createElement("input",{className:"submit-inactive",type:"submit",name:"post-gif",value:"Post GIF",onClick:function(){return l(e.state)}}))):(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"}))}}]),t}(a.Component);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fe=function(e){function t(e){var n;return Object(ne.a)(this,t),(n=Object(re.a)(this,Object(se.a)(t).call(this,e))).state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(n,!0).forEach((function(t){Object(d.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.props.feed),n.onEdit=n.onEdit.bind(Object(ie.a)(n)),n.onCancel=n.onCancel.bind(Object(ie.a)(n)),n.handleChange=n.handleChange.bind(Object(ie.a)(n)),n}return Object(oe.a)(t,e),Object(ae.a)(t,[{key:"onEdit",value:function(e){console.log("changing edit status",e);var t=Object.assign({},this.state),n=(t.data.map((function(e){return e.editing=!1,e})),t.data.map((function(t){return e.id===t.id?(t.editing=!0,t):t})));console.log(n,this.state),this.setState((function(e){return{data:n}}))}},{key:"onCancel",value:function(e){console.log("changing edit status");var t=Object.assign({},this.state).data.map((function(t){return e.id===t.id?(t.editing=!1,t):t}));console.log(t,this.state),this.setState((function(e){return{data:t}}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.name,a=t.value;if(["title","article"].indexOf(n)>=0&&this.setState((function(e){return Object(d.a)({},n,"")})),console.log("name =>",n,": value =>",a),"undefined"!==n&&void 0!==n)return""===a||""===a.trim()?(t.classList.add("empty"),void console.log("".concat(n," is not supplied"))):void this.setState((function(e){return Object(d.a)({},n,a)}));console.log("name is undefined","target =>",t.parentNode,"val =>",a)}},{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this,t=this.props,n=t.errorMessage,a=t.feed,s=t.signedIn,o=t.signOut,l=t.onUpdate,i=t.onDelete;return s?r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"nav"},s?r.a.createElement("div",null,r.a.createElement(c.b,{to:"/",className:"links"},"Home"),r.a.createElement(c.b,{to:"/profile",className:"links"},"Profile"),r.a.createElement(ce,{onClick:o})):r.a.createElement("div",null,r.a.createElement(c.b,{to:"/signin",className:"links"},"Sign In"))),r.a.createElement("div",null,n?r.a.createElement("span",{className:"error"},"string"!==typeof n?n.message:n," "):r.a.createElement("span",null)),r.a.createElement("div",null,"Articles/GIF posts!"),r.a.createElement("div",null,a?r.a.createElement("div",null,this.state.data.map((function(t,n){return r.a.createElement("div",{key:n,className:"card"},t.editing?r.a.createElement("div",null,r.a.createElement("span",{className:"cancel btn",onClick:function(){return e.onCancel(t)}},"Cancel"),r.a.createElement("span",{className:"delete update btn",onClick:function(){return l({id:t.id,title:e.state.title,article:e.state.article})}},"Update"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"title",placeholder:t.title,onChange:e.handleChange}),r.a.createElement("br",null),r.a.createElement("textarea",{type:"text",name:"article",placeholder:t.articleOrUrl,onChange:e.handleChange})):r.a.createElement("div",null,r.a.createElement("span",null,t.articleOrUrl.includes("http")?r.a.createElement("span",null):r.a.createElement("span",{className:"edit btn",onClick:function(){return e.onEdit(t)}},"Edit")),r.a.createElement("span",{className:"delete btn",onClick:function(){return i(t.id)}},"Delete"),r.a.createElement("br",null),r.a.createElement("span",null,r.a.createElement("b",null,t.title)),r.a.createElement("br",null),r.a.createElement("span",null,t.articleOrUrl.includes("http")?r.a.createElement("img",{src:t.articleOrUrl,alt:"gif post"}):r.a.createElement("span",null,t.articleOrUrl," ")))," ")})).reverse()):r.a.createElement("div",null))):(console.log("signedin is true"),r.a.createElement(te.a,{to:"/"}))}}]),t}(a.Component),be=function(){var e=ee.getState(),t=Object(l.b)((function(e){return e})),n=t.signedIn,a=t.user,s=t.isAdmin,o=t.errorMessage,c=t.articlePosted,i=t.gifPosted,u=t.feed;console.log(e);var p=function(e){var t=e.firstName,n=e.lastName,a=e.email,r=e.password,s=e.gender,o=e.jobRole,c=e.department,l=e.address,i="";for(var u in e)if(""===e[u])return i="".concat(u," not supplied!"),ee.dispatch({type:"LOG_ERROR",error:i}),!1;var p={firstName:t,lastName:n,email:a,password:r,gender:s,jobRole:o,department:c,address:l};i="",ee.dispatch({type:"LOG_ERROR",error:i}),ee.dispatch({type:"ADD_USER",newUser:p}),console.log("submitted","newUser =>",p)},d=function(e){var t=e.email,n=e.password,a="";for(var r in e)if(""===e[r])return console.log("item",r,e[r]?e:"not supplied"),a="".concat(r," not supplied!"),ee.dispatch({type:"LOG_ERROR",error:a}),!1;var s={email:t,password:n};a="",ee.dispatch({type:"LOG_ERROR",error:a}),ee.dispatch({type:"LOG_USER",email:t}),ee.dispatch({type:"SIGNIN_USER",user:s})},m=function(e){var t=e.title,n=e.article,a="";for(var r in e)if(""===e[r])return console.log("item",r,e[r]?e:"not supplied"),a="".concat(r," not supplied!"),ee.dispatch({type:"LOG_ERROR",error:a}),!1;var s={title:t,article:n};a="",ee.dispatch({type:"LOG_ERROR",error:a}),ee.dispatch({type:"POST_ARTICLE",newArticle:s})},g=function(e){var t=e.title,n=e.imageUrl,a="";for(var r in e)if(""===e[r])return console.log("item",r,e[r]?e:"not supplied"),a="".concat(r," not supplied!"),ee.dispatch({type:"LOG_ERROR",error:a}),!1;var s={title:t,imageUrl:n};a="",ee.dispatch({type:"LOG_ERROR",error:a}),ee.dispatch({type:"POST_GIF",gifpost:s})},h=function(){console.log("am signing out!"),ee.dispatch({type:"LOG_ERROR",error:""}),ee.dispatch({type:"SIGN_OUT"})},E=function(e){console.log("deleting post with ID ".concat(e,"!")),ee.dispatch({type:"LOG_ERROR",error:""}),ee.dispatch({type:"DELETE_POST",postId:e})},f=function(e){console.log("editing post with ID ".concat(e,"!")),ee.dispatch({type:"LOG_ERROR",error:""}),ee.dispatch({type:"EDIT_POST",postId:e})},b=function(e){var t=e.id,n=e.title,a=e.article;console.log(e);var r="";for(var s in e)if(""===e[s])return console.log("item",s,e[s]?e:"not supplied"),r="".concat(s," not supplied!"),ee.dispatch({type:"LOG_ERROR",error:r}),!1;var o={id:t,title:n,article:a};r="",ee.dispatch({type:"LOG_ERROR",error:r}),ee.dispatch({type:"UPDATE_ARTICLE",articleToUpdate:o})};return r.a.createElement(te.d,null,r.a.createElement(te.b,{path:"/",render:function(e){return r.a.createElement(le,Object.assign({},e,{user:a,isAdmin:s,signedIn:n,signOut:h}))},exact:!0}),r.a.createElement(te.b,{path:"/createuser",render:function(e){return r.a.createElement(ue,Object.assign({},e,{signedIn:n,user:a,errorMessage:o,onClick:p,signOut:h}))}}),r.a.createElement(te.b,{path:"/signin",render:function(e){return r.a.createElement(pe,Object.assign({},e,{signedIn:n,errorMessage:o,onClick:d}))}}),r.a.createElement(te.b,{path:"/profile",render:function(e){return r.a.createElement(me,Object.assign({},e,{signedIn:n,user:a,onClick:d,signOut:h}))}}),r.a.createElement(te.b,{path:"/createarticle",render:function(e){return r.a.createElement(ge,Object.assign({},e,{signedIn:n,errorMessage:o,articlePosted:c,onClick:m,signOut:h}))}}),r.a.createElement(te.b,{path:"/postgif",render:function(e){return r.a.createElement(he,Object.assign({},e,{signedIn:n,errorMessage:o,gifPosted:i,onClick:g,signOut:h}))}}),r.a.createElement(te.b,{path:"/feed",render:function(e){return r.a.createElement(fe,Object.assign({},e,{signedIn:n,errorMessage:o,signOut:h,onLoad:function(){return console.log("feed is here!"),ee.dispatch({type:"LOG_ERROR",error:""}),void ee.dispatch({type:"GET_FEED"})},feed:u,onEdit:f,onUpdate:b,onDelete:E}))}}),r.a.createElement(te.b,{component:de}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(l.a,{store:ee},r.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.8515ffa8.chunk.js.map